{% extends 'base.html.twig' %}

{% block title %}{{ post.title }}{% endblock %}

{% block body %}
    <div class="container mt-4">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <article class="card">
                    <div class="card-body">
                        <h1 class="card-title">{{ post.title }}</h1>
                        <p class="text-muted">
                            Posted by {{ post.user.username }} on {{ post.dateCreation|date('F j, Y') }}
                        </p>
                        <div class="card-text">
                            {{ post.content|raw }}
                        </div>
                    </div>
                </article>

                {% if thread %}
                    <div class="mt-4">
                        <h3>Comments</h3>
                        <div id="disqus_thread"></div>
                        <script>
                            var disqus_config = function () {
                                this.page.url = '{{ url('app_front_post_show', {'id': post.id}) }}';
                                this.page.identifier = '{{ thread.threadId }}';
                            };
                            (function() {
                                var d = document, s = d.createElement('script');
                                s.src = 'https://{{ disqus_shortname }}.disqus.com/embed.js';
                                s.setAttribute('data-timestamp', +new Date());
                                (d.head || d.body).appendChild(s);
                            })();
                        </script>
                        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %} 